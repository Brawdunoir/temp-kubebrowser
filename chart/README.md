# Kubernetes Token Fetcher

## Parameters

### Global values

| Name                                        | Description                                                                                  | Value           |
| ------------------------------------------- | -------------------------------------------------------------------------------------------- | --------------- |
| `global.imageRegistry`                      | Global Docker image registry                                                                 | `docker.io`     |
| `global.imagePullPolicy`                    | kubebrowser image pull policy                                                     | `""`            |
| `global.imagePullSecrets`                   | Global Docker registry secret names as an array                                              | `[]`            |
| `global.storageClass`                       | Global StorageClass for Persistent Volume(s)                                                 | `""`            |
| `global.observability.otlpExporterEndpoint` | OTLP exporter endpoint (overrides *.observability.otlpExporterEndpoint for all components)   | `""`            |
| `kubeVersion`                               | Override Kubernetes version                                                                  | `""`            |
| `nameOverride`                              | String to partially override common.names.fullname template (will maintain the release name) | `""`            |
| `fullnameOverride`                          | String to fully override common.names.fullname template                                      | `""`            |
| `clusterDomain`                             | Kubernetes Cluster Domain                                                                    | `cluster.local` |
| `commonLabels`                              | Add labels to all the deployed resources                                                     | `{}`            |
| `commonAnnotations`                         | Add annotations to all the deployed resources                                                | `{}`            |

### kubebrowser server values

| Name                                                       | Description                                                                                                                      | Value                          |
| ---------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ |
| `server.name`                                              | Name of the server                                                                                                               | `token-fetcher`                |
| `server.replicaCount`                                      | Number of kubebrowser server replicas                                                                                 | `1`                            |
| `server.image.registry`                                    | server image registry                                                                                                            | `""`                           |
| `server.image.repository`                                  | server image repository                                                                                                          | `brawdunoir/token-fetcher`     |
| `server.image.tag`                                         | server image tag (immutable tags are recommended)                                                                                | `1.0.0`                        |
| `server.image.digest`                                      | server image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag                           | `""`                           |
| `server.image.pullPolicy`                                  | server image pull policy                                                                                                         | `""`                           |
| `server.image.pullSecrets`                                 | Specify image pull secrets for server                                                                                            | `[]`                           |
| `server.configuration.defaultUsername`                     | Default username on the kubectl set-credentials subcommand                                                                       | `oidc-user`                    |
| `server.configuration.clientId`                            | Client ID of your application                                                                                                    | `""`                           |
| `server.configuration.clientSecret`                        | Client secret of your application                                                                                                | `""`                           |
| `server.configuration.authorizationEndpoint`               | Authorization endpoint of your OIDC provider (e.g. https://login.microsoftonline.com/<tenant_id>/oauth2/v2.0/authorize)          | `""`                           |
| `server.configuration.tokenEndpoint`                       | Token endpoint of your OIDC provider (e.g. https://login.microsoftonline.com/<tenant_id>/oauth2/v2.0/token)                      | `""`                           |
| `server.configuration.issuerUrl`                           | Issuer URL of your OIDC provider (e.g. https://login.microsoftonline.com/<tenant_id>/v2.0)                                       | `""`                           |
| `server.configuration.logLevel`                            | Log level of the server                                                                                                          | `INFO`                         |
| `server.configuration.mountPath`                           | Mount path of the configuration file                                                                                             | `/app`                         |
| `server.configuration.kubeconfigsPath`                     | Path to the kubeconfigs directory                                                                                                | `/app/kubeconfigs`             |
| `server.kubeconfigs`                                       | List of kubeconfigs to fetch. See values.yaml for usage.                                                                         | `[]`                           |
| `server.overrideConfiguration`                             | Configuration to override all server.configuration.* values                                                                      | `""`                           |
| `server.automountServiceAccountToken`                      | Automount API credentials for kubebrowser server pods                                                                 | `false`                        |
| `server.extraEnvVars`                                      | Array with extra environment variables to add to kubebrowser server nodes                                             | `[]`                           |
| `server.extraEnvVarsCM`                                    | Name of existing ConfigMap containing extra env vars for kubebrowser server nodes                                     | `""`                           |
| `server.extraEnvVarsSecret`                                | Name of existing Secret containing extra env vars for kubebrowser server nodes                                        | `""`                           |
| `server.command`                                           | Override default container command (useful when using custom images)                                                             | `[]`                           |
| `server.args`                                              | Override default container args (useful when using custom images)                                                                | `[]`                           |
| `server.livenessProbe.enabled`                             | Enable livenessProbe on kubebrowser server containers                                                                 | `true`                         |
| `server.livenessProbe.initialDelaySeconds`                 | Initial delay seconds for livenessProbe                                                                                          | `5`                            |
| `server.livenessProbe.periodSeconds`                       | Period seconds for livenessProbe                                                                                                 | `5`                            |
| `server.livenessProbe.timeoutSeconds`                      | Timeout seconds for livenessProbe                                                                                                | `1`                            |
| `server.livenessProbe.failureThreshold`                    | Failure threshold for livenessProbe                                                                                              | `3`                            |
| `server.readinessProbe.enabled`                            | Enable readinessProbe on kubebrowser server containers                                                                | `true`                         |
| `server.readinessProbe.initialDelaySeconds`                | Initial delay seconds for readinessProbe                                                                                         | `5`                            |
| `server.readinessProbe.periodSeconds`                      | Period seconds for readinessProbe                                                                                                | `5`                            |
| `server.readinessProbe.timeoutSeconds`                     | Timeout seconds for readinessProbe                                                                                               | `1`                            |
| `server.readinessProbe.failureThreshold`                   | Failure threshold for readinessProbe                                                                                             | `5`                            |
| `server.lifecycleHooks`                                    | for the kubebrowser server container to automate configuration before or after startup                                | `{}`                           |
| `server.resources.limits`                                  | The resources limits for the kubebrowser server containers                                                            | `{}`                           |
| `server.resources.requests`                                | The requested resources for the kubebrowser server containers                                                         | `{}`                           |
| `server.podSecurityContext.enabled`                        | Enable security context                                                                                                          | `true`                         |
| `server.podSecurityContext.fsGroup`                        | Group ID for the pod                                                                                                             | `101`                          |
| `server.containerSecurityContext.enabled`                  | Enable container security context                                                                                                | `true`                         |
| `server.containerSecurityContext.runAsUser`                | User ID for the container                                                                                                        | `101`                          |
| `server.containerSecurityContext.runAsGroup`               | Group ID for the container                                                                                                       | `0`                            |
| `server.containerSecurityContext.runAsNonRoot`             | Set runAsNonRoot for the container                                                                                               | `true`                         |
| `server.containerSecurityContext.allowPrivilegeEscalation` | Set allowPrivilegeEscalation for the container                                                                                   | `false`                        |
| `server.containerSecurityContext.seccompProfile.type`      | Set seccompProfile.type for the container                                                                                        | `RuntimeDefault`               |
| `server.containerSecurityContext.capabilities.drop`        | Set capabilities.drop for the container                                                                                          | `["ALL"]`                      |
| `server.hostAliases`                                       | kubebrowser server pods host aliases                                                                                  | `[]`                           |
| `server.hostNetwork`                                       | Specify if host network should be enabled for kubebrowser pod                                                         | `false`                        |
| `server.containerPorts.http`                               | kubebrowser server container port for http                                                                            | `8080`                         |
| `server.hostIPC`                                           | Specify if host IPC should be enabled for kubebrowser pod                                                             | `false`                        |
| `server.labels`                                            | Map of labels to add to the statefulset                                                                                          | `{}`                           |
| `server.annotations`                                       | Annotations for server pods                                                                                                      | `{}`                           |
| `server.podLabels`                                         | Map of labels to add to the pods                                                                                                 | `{}`                           |
| `server.podAnnotations`                                    | Map of annotations to add to the pods                                                                                            | `{}`                           |
| `server.priorityClassName`                                 | Priority Class to use for each pod                                                                                               | `""`                           |
| `server.schedulerName`                                     | Use an alternate scheduler, e.g. "stork".                                                                                        | `""`                           |
| `server.terminationGracePeriodSeconds`                     | Seconds kubebrowser server pod needs to terminate gracefully                                                          | `""`                           |
| `server.strategy`                                          | kubebrowser server deployment strategy                                                                                |                                |
| `server.strategy.type`                                     | kubebrowser server deployment strategy type                                                                           | `RollingUpdate`                |
| `server.extraVolumeMounts`                                 | Optionally specify extra list of additional volumeMounts for the kubebrowser server container(s)                      | `[]`                           |
| `server.extraVolumes`                                      | Optionally specify extra list of additional volumes for the kubebrowser server pod(s)                                 | `[]`                           |
| `server.sidecars`                                          | Add additional sidecar containers to the kubebrowser server pod(s)                                                    | `[]`                           |
| `server.initContainers`                                    | Add additional init containers to the kubebrowser server pod(s)                                                       | `[]`                           |
| `server.extraPodSpec`                                      | Optionally specify extra PodSpec for the kubebrowser server pod(s)                                                    | `{}`                           |
| `server.affinity`                                          | Affinity for server                                                                                                              | `{}`                           |
| `server.nodeSelector`                                      | Node labels for kubebrowser server pods assignment                                                                    | `{}`                           |
| `server.tolerations`                                       | Tolerations for kubebrowser server pods assignment                                                                    | `[]`                           |
| `server.topologySpreadConstraints`                         | Topology Spread Constraints for pod assignment spread across your cluster among failure-domains. Evaluated as a template         | `[]`                           |
| `server.service.create`                                    | Enable creation of Service for kubebrowser server pod                                                                 | `true`                         |
| `server.service.type`                                      | Kubernetes Service type                                                                                                          | `ClusterIP`                    |
| `server.service.nodePorts.http`                            | Node port for kubebrowser server http traffic                                                                         | `""`                           |
| `server.service.clusterIP`                                 | Static clusterIP or None for headless services                                                                                   | `""`                           |
| `server.service.annotations`                               | Annotations for kubebrowser server service                                                                            | `{}`                           |
| `server.service.loadBalancerIP`                            | Load balancer IP if service type is `LoadBalancer`                                                                               | `""`                           |
| `server.service.externalTrafficPolicy`                     | Enable client source IP preservation                                                                                             | `Cluster`                      |
| `server.service.loadBalancerSourceRanges`                  | Addresses that are allowed when service is LoadBalancer                                                                          | `[]`                           |
| `server.service.extraPorts`                                | Extra ports to expose in the kubebrowser server service                                                               | `[]`                           |
| `server.service.sessionAffinity`                           | Session Affinity for Kubernetes service, can be "None" or "ClientIP"                                                             | `None`                         |
| `server.service.sessionAffinityConfig`                     | Additional settings for the sessionAffinity                                                                                      | `{}`                           |
| `server.service.headless.annotations`                      | Additional custom annotations for headless kubebrowser server service                                                 | `{}`                           |
| `ingress.enabled`                                          | Enable ingress controller resource for frontend                                                                                  | `false`                        |
| `ingress.apiVersion`                                       | Force Ingress API version (automatically detected if not set)                                                                    | `""`                           |
| `ingress.ingressClassName`                                 | IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)                                                    | `""`                           |
| `ingress.hostname`                                         | Default host for the ingress resource                                                                                            | `kubebrowser.local` |
| `ingress.pathType`                                         | Ingress path type                                                                                                                | `ImplementationSpecific`       |
| `ingress.path`                                             | Ingress path                                                                                                                     | `/`                            |
| `ingress.annotations`                                      | Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations. | `{}`                           |
| `ingress.tls`                                              | Enable TLS configuration for the hostname defined at `ingress.hostname` parameter                                                | `false`                        |
| `ingress.selfSigned`                                       | Create a TLS secret for this ingress record using self-signed certificates generated by Helm                                     | `false`                        |
| `ingress.extraHosts`                                       | The list of additional hostnames to be covered with this ingress record.                                                         | `[]`                           |
| `ingress.extraPaths`                                       | Any additional paths that may need to be added to the ingress under all hosts                                                    | `[]`                           |
| `ingress.extraTls`                                         | The tls configuration for additional hostnames to be covered with this ingress record.                                           | `[]`                           |
| `ingress.secrets`                                          | If you're providing your own certificates, please use this to add the certificates as secrets                                    | `[]`                           |
| `ingress.extraRules`                                       | Additional rules to be covered with this ingress record                                                                          | `[]`                           |
